<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Greek Verb Practice</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 600px;
            margin: 20px auto;
            padding: 20px;
            background-color: #f0f0f0;
        }
        .container {
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .question {
            font-size: 24px;
            margin-bottom: 20px;
            padding: 20px;
            background-color: #e9ecef;
            border-radius: 4px;
        }
        .button {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
        }
        .button:hover {
            background-color: #0056b3;
        }
        .answer {
            font-size: 20px;
            margin-top: 20px;
            padding: 15px;
            background-color: #e2ffe2;
            border-radius: 4px;
            display: none;
        }
        .next {
            margin-top: 20px;
            background-color: #28a745;
        }
        .error {
            color: #dc3545;
            padding: 10px;
            margin: 10px 0;
            border-radius: 4px;
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Greek Verb Practice</h1>
        <div class="error" id="error"></div>
        <div class="question" id="question"></div>
        <button class="button" onclick="checkAnswer()">Check</button>
        <div class="answer" id="answer"></div>
        <button class="button next" onclick="nextQuestion()">Next Question</button>
    </div>

    <script>
        const subjects = ["I", "He", "We", "You", "Multiple You", "They"];
        const tenses = ["present", "past", "future"];
        let verbs = {};

        async function loadVerbs() {
            try {
                const response = await fetch('verbs.js');
                if (!response.ok) throw new Error('Failed to load verb data');
                const verbData = await response.json();
                verbs = verbData;
                generateQuestion();
            } catch (error) {
                document.getElementById('error').style.display = 'block';
                document.getElementById('error').textContent = 'Could not load new words. Using default vocabulary.';
                verbs = {
                    "read": {
                        "I": {"present": "διαβάζω", "past": "διάβασα", "future": "θα διαβάσω"},
                        "He": {"present": "διαβάζει", "past": "διάβασε", "future": "θα διαβάσει"},
                        "We": {"present": "διαβάζουμε", "past": "διαβάσαμε", "future": "θα διαβάσουμε"},
                        "You": {"present": "διαβάζεις", "past": "διάβασες", "future": "θα διαβάσεις"},
                        "Multiple You": {"present": "διαβάζετε", "past": "διαβάσατε", "future": "θα διαβάσετε"},
                        "They": {"present": "διαβάζουν", "past": "διάβασαν", "future": "θα διαβάσουν"}
                    }
                };
                generateQuestion();
            }
        }

        function generateQuestion() {
            const subject = subjects[Math.floor(Math.random() * subjects.length)];
            const tense = tenses[Math.floor(Math.random() * tenses.length)];
            const verbKeys = Object.keys(verbs);
            const verb = verbKeys[Math.floor(Math.random() * verbKeys.length)];
            
            currentQuestion = {
                subject: subject,
                tense: tense,
                verb: verb,
                answer: verbs[verb][subject][tense]
            };

            document.getElementById('question').textContent = 
                `${currentQuestion.subject} + ${currentQuestion.tense} + ${currentQuestion.verb}`;
            document.getElementById('answer').style.display = 'none';
        }

        function checkAnswer() {
            const answerElement = document.getElementById('answer');
            answerElement.textContent = currentQuestion.answer;
            answerElement.style.display = 'block';
        }

        function nextQuestion() {
            generateQuestion();
        }

        // Initialize by loading verbs
        loadVerbs();
    </script>
</body>
</html>
